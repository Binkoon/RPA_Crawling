<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" version="28.1.0">
  <diagram name="RPA_Data_Flow_v3.5.0" id="dataflow">
    <mxGraphModel dx="1426" dy="777" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="RPA 크롤링 데이터 플로우 v3.5.0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="650" y="10" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cleanup" value="데이터 정리&#xa;data_cleanup.py&#xa;→ 30일 이전 데이터 삭제" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="330" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="report" value="통계 및 리포트&#xa;Success Rate Analysis&#xa;→ 성공률 + 실패 원인" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#1890ff;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="330" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="error_mgmt" value="에러로그 관리&#xa;Automated Upload&#xa;→ 오늘 날짜 로그 업로드" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb3ba;strokeColor=#b85450;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="330" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="monitor" value="모니터링&#xa;Real-time Tracking&#xa;→ 프로세스 상태 추적" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="330" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="flow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="step1" target="step2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#6c8ebf;" parent="1" source="step2" target="step3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;" parent="1" source="step3" target="step4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#82b366;" parent="1" source="step4" target="step5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="step5" target="step6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d79b00;" parent="1" source="step5" target="collect" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#b85450;" parent="1" source="collect" target="validate" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#82b366;" parent="1" source="validate" target="transform" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#666666;" parent="1" source="transform" target="local_save" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;" parent="1" source="local_save" target="excel_log" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d79b00;" parent="1" source="excel_log" target="gdrive_upload" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;" parent="1" source="gdrive_upload" target="cleanup" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#1890ff;" parent="1" source="cleanup" target="report" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#b85450;" parent="1" source="report" target="error_mgmt" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="error_mgmt" target="monitor" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="feedback1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#b85450;dashed=1;" parent="1" source="step6" target="validate" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="data_types" value="데이터 타입 및 형식" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="450" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="input_data" value="입력 데이터:&#xa;• 선사 웹사이트 HTML&#xa;• 선박 스케줄 정보&#xa;• PDF 문서" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;" parent="1" vertex="1">
          <mxGeometry x="50" y="480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="process_data" value="처리 데이터:&#xa;• 구조화된 선박 정보&#xa;• 에러 로그 데이터&#xa;• 성공/실패 통계" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;" parent="1" vertex="1">
          <mxGeometry x="300" y="480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="output_data" value="출력 데이터:&#xa;• Excel 파일 (.xlsx)&#xa;• PDF 문서&#xa;• 통합 로그 파일" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;" parent="1" vertex="1">
          <mxGeometry x="550" y="480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="storage_data" value="저장 형식:&#xa;• 로컬: scheduleData/YYMMDD/&#xa;• 클라우드: Google Drive&#xa;• 로그: ErrorLog/YYYY-MM-DD/" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;align=left;" parent="1" vertex="1">
          <mxGeometry x="800" y="480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="performance" value="성능 지표 (v3.5.0)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1100" y="450" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="perf_metrics" value="• 병렬 처리: 최대 4개 워커&#xa;• 에러 처리: 타입별 스마트 재시도&#xa;• 설정 관리: 환경별 자동 최적화&#xa;• 테스트 커버리지: 80%+&#xa;• 모듈화: 70% 코드 감소" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#666666;fontSize=10;align=left;" parent="1" vertex="1">
          <mxGeometry x="1100" y="480" width="250" height="100" as="geometry" />
        </mxCell>
        <mxCell id="version" value="Data Flow Version 3.5.0 - 2025년 8월 22일&#xa;주요 개선: 환경별 설정 시스템, 에러 처리 강화, 모듈화 완성" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="600" y="600" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step1" value="1. 환경별 설정 로드&#xa;Environment Detection&#xa;→ YAML Config Loading" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="2. 메인 컨트롤러&#xa;main2_lightweight.py&#xa;→ Utils 모듈 초기화" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="3. 로깅 시스템 설정&#xa;logging_setup.py&#xa;→ 환경별 로그 레벨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step4" value="4. 크롤러 팩토리&#xa;CrawlerFactory&#xa;→ 동적 인스턴스 생성" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step5" value="5. 병렬 크롤링 실행&#xa;ThreadPoolExecutor&#xa;→ 선사별 동시 처리" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1050" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step6" value="6. 에러 처리 강화&#xa;Smart Error Analysis&#xa;→ 타입별 재시도 전략" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb3ba;strokeColor=#b85450;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1300" y="70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="collect" value="데이터 수집&#xa;Web Scraping&#xa;→ 15개 선사 웹사이트" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="validate" value="데이터 검증&#xa;Error Detection&#xa;→ 스마트 에러 분석" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#b85450;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="transform" value="데이터 변환&#xa;Format Conversion&#xa;→ Excel/PDF 생성" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="local_save" value="로컬 저장&#xa;File System&#xa;→ scheduleData/YYMMDD/" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#666666;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="excel_log" value="엑셀 로그 생성&#xa;excel_logger.py&#xa;→ 통합 로그 관리" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1050" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gdrive_upload" value="구글 드라이브 업로드&#xa;OAuth 2.0 + 환경변수&#xa;→ 스케줄 + 에러로그" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1300" y="200" width="200" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
